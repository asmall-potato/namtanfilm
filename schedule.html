<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="CSS/styles.css">
    <link rel="stylesheet" href="CSS/calendar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap" rel="stylesheet">
    <title>NamtanFilm Schedule Calendar</title>
</head>
<body>
    <header class="header-wallpaper-sub">
        <div class="header-container">
            <h1 class="logo">NAMTANFILM</h1>
            <button class="nav-toggle" aria-label="toggle navigation">
            ☰
            </button>
             <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li class="dropdown">
                        <a href="series.html">Series</a>
                        <div class="dropdown-content">
                            <a href="pluto.html">Pluto นิทาน ดวงดาว ความรัก</a>
                            <a href="GirlRules.html">Girl Rules กฎหลัก ห้ามรักเธอ</a>                           
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="live-count.html">Live Count</a>
                        <div class="dropdown-content">
                            <a href="pluto-live-count.html">Pluto Series</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="awards.html">Awards</a>
                        <div class="dropdown-content">
                            <a href="awards2025.html">Awards (Year 2025)</a>
                            </div>
                    
                    </li>
                    <li class="dropdown">
                        <a href="#">Fan Meeting</a>
                        <div class="dropdown-content">
                            <a href="fm2025.html">2025</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="videohome.html">Video</a>
                        <div class="dropdown-content">
                        <a href="video.html">Video (Year 2024)</a>
                        <a href="video2025.html">Video (Year 2025)</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="magazinehome.html">Magazine</a>
                        <div class="dropdown-content">
                        <a href="magazine.html">Magazine (Y2024)</a>
                        <a href="magazine2025.html">Magazine (Y2025)</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="brandshome.html">Brands</a>
                        <div class="dropdown-content">
                        <a href="brands.html">Brands (Y2024)</a>
                        <a href="brands2025.html">Brands (Y2025)</a>
                        </div>
                    </li>
                    <li><a href="vote.html">Voting</a></li>
                    <li><a href="social-media.html">Social Media</a></li>
                    <li><a href="articles.html">Articles</a></li>
                </ul>
            </nav>
        </div>
        
        
    </header>
    <main>
<div class="calendar-container">
    <!-- Left side: Calendar -->
    <div class="calendar-left">
        <div class="calendar-header">
            <button id="prev-month">Previous</button>
            <h2 id="calendar-title"></h2>
            <button id="next-month">Next</button>
        </div>

        <table class="calendar" id="calendar">
            <thead>
                <tr>
                    <th>Sun</th>
                    <th>Mon</th>
                    <th>Tue</th>
                    <th>Wed</th>
                    <th>Thu</th>
                    <th>Fri</th>
                    <th>Sat</th>
                </tr>
            </thead>
            <tbody id="calendar-body"></tbody>
        </table>
    </div>

    <!-- Right side: Full Schedule List -->
    <div class="calendar-right">
        <div class="schedule-list">
            <h3>NamtanFilm's Schedule for <span id="schedule-month"></span></h3>
            <ul id="schedule-items"></ul>
        </div>
    </div>
</div>
</main>
<footer>
    <p>&copy; 2025 NAMTANFILM. All rights reserved.</p>
    <p>Website developed and designed by @jieyan96.</p>
    
    </footer>
<script>
    // Scroll reveal effect
    const sections = document.querySelectorAll('section');
        const options = {
        root: null,
        threshold: 0.1,
        };
        
        const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
        if (entry.isIntersecting) {
        entry.target.classList.add('animate__animated', 'animate__fadeInUp');
        observer.unobserve(entry.target);
        }
        });
        }, options);
        
        sections.forEach(section => {
        observer.observe(section);
        });
        
        // Change header transparency on scroll
        const schedules = {
    "2025-01-04": [
        {
            description: "Pluto Final EP Fan Meeting",
            time: "7:30PM (BKK Time)",
            location: "6th Fl. Siam Paragon - Siam Pavalai, Paragon Cineplex",
            artist: "NamtanFilm",
            url: "https://x.com/GMMTV/status/1867945305901298077",
            status: "passed" // Marked as passed
        }
    ],
    "2025-01-05": [
        {
            description: "泰小象来了",
            time: "7:00 PM (BKK Time)",
            live: "Taobao Account: 泰小象来了",
            artist: "NamtanFilm",
            url: "https://x.com/GMMTV/status/1873572505975419150",
            status: "passed" // Marked as passed
        }
    ],
    "2025-01-12": [
        {
            description: "Dr.Ally Sweet Time with Namtan",
            time: "3:00 PM (BKK Time)",
            artist: "Namtan Tipnaree",
            url: "https://x.com/GMMTV/status/1876140791825133736/photo/2",
            status: "passed" // Marked as passed
        }
    ],
    "2025-01-14": [
        {
            description: "OPPO Reno13 Series 5G Launch Event",
            time: "5:00 PM (BKK Time)",
            live: "Oppo Thailand official channel",
            artist: "NamtanFilm",
            url: "https://x.com/OPPOThailand/status/1876826168394936478",
            status: "postponed" // Marked as postponed
        }
    ],
    "2025-01-17": [
        {
            description: "FENDI SS25 COLLECTION PREVIEW",
            time: "10:30 AM (BKK Time)",
            location: "Siam Paragon",
            artist: "Namtan Tipnaree",
            url: "https://x.com/GMMTV/status/1878689380644397506/photo/1"
        }
    ],
    "2025-01-26": [
        {
            description: "GMMTV FANDAY 16 IN CAMBODIA",
            time: "3:00 PM (Cambodia Time)",
            location: "Aeon Hall, 3rd Floor Aeon Mall Sensok City",
            artist: "NamtanFilm",
            url: "https://x.com/GMMTV/status/1856658222230422000"
        }
    ],
    "2025-01-30": [
        {
            description: "Destiny Clinic",
            time: "6:00 PM (BKK Time)",
            location: "Central Pinklao",
            artist: "NamtanFilm",
            url: "https://www.facebook.com/share/p/19v5Vh63vB/",
        }
    ],
    "2025-01-31": [
        {
            description: "Fansign event of GMMTV Official Merchandise Booth",
            time: "7:00 PM (BKK Time)",
            location: "Samyan Mitrtown, 5th Floor",
            artist: "NamtanFilm",
            url: "https://x.com/GmmtvShop/status/1880215994737541169",
        }
    ],
    // Other dates and events...
};

// Get the current date in Malaysia's timezone (UTC+8)
const today = new Date().toLocaleString("en-US", { timeZone: "Asia/Kuala_Lumpur" });
const malaysiaDate = new Date(today);
let currentMonth = malaysiaDate.getMonth(); // January = 0, December = 11
let currentYear = malaysiaDate.getFullYear();
let selectedDate = `${currentYear}-${(currentMonth + 1).toString().padStart(2, '0')}-${malaysiaDate.getDate().toString().padStart(2, '0')}`; // Set today's date based on Malaysia time

function generateCalendar() {
    const firstDayOfMonth = new Date(currentYear, currentMonth, 1);
    const lastDayOfMonth = new Date(currentYear, currentMonth + 1, 0);
    const lastDateOfMonth = lastDayOfMonth.getDate();
    const firstWeekday = firstDayOfMonth.getDay();

    // Set the calendar title
    document.getElementById("calendar-title").textContent = `${firstDayOfMonth.toLocaleString('default', { month: 'long' })} ${currentYear}`;
    document.getElementById("schedule-month").textContent = `${firstDayOfMonth.toLocaleString('default', { month: 'long' })} ${currentYear}`;

    let calendarBody = '';
    let dayCounter = 1;

    // Generate the calendar grid
    for (let i = 0; i < 6; i++) {
        calendarBody += '<tr>';
        for (let j = 0; j < 7; j++) {
            // Fill days of the current month
            if (i === 0 && j < firstWeekday) {
                calendarBody += '<td></td>';
            } else if (dayCounter <= lastDateOfMonth) {
                const dayString = `${currentYear}-${(currentMonth + 1).toString().padStart(2, '0')}-${dayCounter.toString().padStart(2, '0')}`;
                const isToday = dayCounter === malaysiaDate.getDate() && currentMonth === malaysiaDate.getMonth() && currentYear === malaysiaDate.getFullYear();
                const hasSchedule = schedules[dayString] !== undefined;
                const eventStatus = hasSchedule ? schedules[dayString][0].status : null;

                // Show only the first event in the calendar cell
                const firstEvent = hasSchedule ? schedules[dayString][0].description : "";

                // Apply styles based on event status
                let cellClass = "";
                if (isToday) {
                    cellClass = "today"; // Add "today" class if it's today's date
                }
                if (eventStatus === "postponed") {
                    cellClass += " postponed-event"; // For postponed events, apply red text
                }
                if (eventStatus === "passed") {
                    cellClass += " passed-event"; // For passed events, add a stroke
                }

                calendarBody += `<td class="${cellClass}" onclick="showScheduleDetails('${dayString}')">
                                    <strong>${dayCounter}</strong>
                                    ${firstEvent ? `<div class="schedule-details">${firstEvent}</div>` : ''}
                                </td>`;
                dayCounter++;
            } else {
                calendarBody += '<td></td>';
            }
        }
        calendarBody += '</tr>';
        if (dayCounter > lastDateOfMonth) break;
    }

    document.getElementById("calendar-body").innerHTML = calendarBody;
    updateScheduleList(); // Update the full schedule list on the right side
}

function updateScheduleList() {
    const scheduleItems = document.getElementById("schedule-items");
    scheduleItems.innerHTML = ''; // Clear previous schedule

    // Filter events for the current month and year
    const filteredEvents = Object.keys(schedules).filter(date => {
        const eventDate = new Date(date);
        return eventDate.getMonth() === currentMonth && eventDate.getFullYear() === currentYear;
    });

    // If a specific date is selected, show its details
    if (selectedDate && schedules[selectedDate]) {
        const events = schedules[selectedDate];
        events.forEach(event => {
            const li = document.createElement("li");
            li.innerHTML = `<div class="schedule-details"><strong>${event.description}</strong> (${event.time})</div>`;

            // Check if there's a 'location' or 'live' field and display accordingly
            if (event.location) {
                li.innerHTML += `<div>Location: ${event.location}</div>`;
            } else if (event.live) {
                li.innerHTML += `<div>Live: ${event.live}</div>`;
            } else {
                li.innerHTML += `<div>No location or live link available</div>`;
            }

            // Add the Artist information (if available)
            if (event.artist) {
                li.innerHTML += `<div>Artist: ${event.artist}</div>`;
            } else {
                li.innerHTML += `<div>No artist information available</div>`;
            }

            // Add a "Postponed" stamp if the event is postponed
            if (event.status === "postponed") {
                li.innerHTML += `<div class="postponed-stamp">Postponed</div>`;
            }

            // If a URL is provided, add a link
            if (event.url) {
                const link = document.createElement("a");
                link.href = event.url;
                link.textContent = "View Details";
                link.target = "_blank";
                li.appendChild(link);
            }

            scheduleItems.appendChild(li);
        });
    } else {
        // Otherwise, show the entire month's schedule
        filteredEvents.forEach(date => {
            const events = schedules[date];
            const li = document.createElement("li");
            li.innerHTML = `<strong>${date}</strong>`;
            events.forEach(event => {
                const eventLine = document.createElement("div");
                eventLine.classList.add("schedule-details");
                eventLine.innerHTML = `<strong>${event.description}</strong> (${event.time})`;

                // Check if there's a 'location' or 'live' field and display accordingly
                if (event.location) {
                    eventLine.innerHTML += `<br>Location: ${event.location}`;
                } else if (event.live) {
                    eventLine.innerHTML += `<br>Live: ${event.live}`;
                } else {
                    eventLine.innerHTML += `<br>No location or live link available`;
                }

                // Add the Artist information (if available)
                if (event.artist) {
                    eventLine.innerHTML += `<br>Artist: ${event.artist}`;
                } else {
                    eventLine.innerHTML += `<br>No artist information available`;
                }

                // Add a "Postponed" stamp if the event is postponed
                if (event.status === "postponed") {
                    eventLine.innerHTML += `<br><span class="postponed-stamp">Postponed</span>`;
                }

                li.appendChild(eventLine);

                // If a URL is provided, add a link
                if (event.url) {
                    const link = document.createElement("a");
                    link.href = event.url;
                    link.textContent = "View Details";
                    link.target = "_blank";
                    li.appendChild(link);
                }
            });
            scheduleItems.appendChild(li);
        });
    }
}

function showScheduleDetails(date) {
    selectedDate = date;
    updateScheduleList(); // Update the right-side schedule details when a date is clicked
}

// Initialize calendar with today's date (Malaysia time)
generateCalendar();

// Change month forward
document.getElementById("next-month").addEventListener("click", () => {
    if (currentMonth === 11) {
        currentMonth = 0;
        currentYear++;
    } else {
        currentMonth++;
    }
    selectedDate = null; // Reset the selected date
    generateCalendar();
    updateScheduleList(); // Update the schedule list for the new month
});

// Change month backward
document.getElementById("prev-month").addEventListener("click", () => {
    if (currentMonth === 0) {
        currentMonth = 11;
        currentYear--;
    } else {
        currentMonth--;
    }
    selectedDate = null; // Reset the selected date
    generateCalendar();
    updateScheduleList(); // Update the schedule list for the new month
});



// Change header transparency on scroll
const header = document.querySelector('.header-container');
        window.addEventListener('scroll', function() {
        const scrollPosition = window.scrollY;
        header.style.backgroundColor = scrollPosition > 50 ? 'rgba(255, 255, 255, 0.9)' : 'rgba(255, 255, 255, 0)';
        });

    //Hamburger
         document.addEventListener("DOMContentLoaded", function () {
            const navToggle = document.querySelector(".nav-toggle");
            const navUl = document.querySelector("nav ul");

            navToggle.addEventListener("click", function () {
                navUl.classList.toggle("showing"); // Toggle the 'showing' class to show/hide the menu
            });
        });
</script>

</body>
</html>
